<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dossier Projet - Entretien CCI</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Font: Outfit -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'] },
                    colors: {
                        corp: {
                            dark: '#1e293b',      // Slate 800
                            blue: '#2563eb',      // Blue 600
                            light: '#f8fafc',     // Slate 50
                            accent: '#6366f1',    // Indigo
                            success: '#10b981',   // Emerald
                            brand: '#0f172a'      // Dark Blue
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .chart-container { position: relative; width: 100%; height: 250px; }
        .section-number {
            font-size: 4rem; opacity: 0.05; font-weight: 900; position: absolute; top: -1rem; left: 1rem; z-index: 0;
        }
        #simulationCanvas { background: #f1f5f9; border-radius: 0.5rem; width: 100%; height: 100%; }

        /* Heatmap Grid */
        .store-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: repeat(8, 1fr);
            gap: 2px;
            width: 100%; height: 250px;
            background: #ffffff; border: 2px solid #cbd5e1; border-radius: 8px;
            position: relative; overflow: hidden;
        }
        .heat-zone { position: absolute; border-radius: 50%; filter: blur(25px); opacity: 0.6; z-index: 10; }
        .heat-red { background: #ef4444; } 
        .heat-yellow { background: #eab308; }
        .heat-blue { background: #3b82f6; }
        
        .shelf-block {
            background: #475569; border-radius: 2px; z-index: 20;
            display: flex; align-items: center; justify-content: center;
            color: #e2e8f0; font-size: 10px; font-weight: bold; writing-mode: vertical-rl;
        }
        .checkout-block {
            background: #0f172a; border-radius: 2px; z-index: 20; color: white;
            display: flex; align-items: center; justify-content: center; font-size: 10px;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 antialiased font-sans pb-20">

    <!-- HEADER -->
    <header class="bg-white border-b border-slate-300 sticky top-0 z-50 shadow-sm">
        <div class="max-w-6xl mx-auto px-6 py-3 flex justify-between items-center">
            <div>
                <h1 class="text-lg font-bold text-corp-dark uppercase tracking-wide">Dossier de Cr√©ation</h1>
                <p class="text-xs text-slate-500">Support de pr√©sentation - Confidentiel</p>
            </div>
            <div class="hidden md:flex gap-2">
                <span class="px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded border border-slate-200">Janvier 2026</span>
                <span class="px-2 py-1 bg-blue-50 text-corp-blue text-xs rounded border border-blue-100 font-bold">Phase : Amor√ßage</span>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-10 space-y-16">

        <!-- PARTIE 1: SYNTH√àSE DU PROJET (ID CARD) -->
        <section class="bg-white rounded-xl shadow-md border-l-8 border-corp-blue p-8 relative overflow-hidden">
            <div class="section-number">01</div>
            <div class="relative z-10">
                <h2 class="text-2xl font-bold text-corp-dark mb-6 pl-2">Fiche d'Identit√© du Projet</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-sm font-bold text-slate-400 uppercase mb-3">La Proposition de Valeur</h3>
                        <p class="text-lg font-medium text-slate-800 mb-4 leading-relaxed">
                            Cr√©ation d'une <strong>plateforme universelle de spatialisation</strong> indoor.
                        </p>
                        <p class="text-slate-600 mb-4 text-justify">
                            Contrairement aux solutions ferm√©es (silos), nous vendons une <strong>infrastructure ouverte</strong>. Nous installons un r√©seau physique unique, sur lequel le client active des modules logiciels selon ses besoins.
                        </p>
                        <div class="flex gap-2 mt-4">
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-bold">Hardware + SaaS</span>
                            <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-bold">Modulaire</span>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-bold">Scalable</span>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                        <ul class="space-y-4">
                            <li class="flex justify-between border-b border-slate-200 pb-2">
                                <span class="text-slate-500 text-sm">Technologie C≈ìur</span>
                                <span class="font-bold text-corp-dark">UWB (Ultra-Wideband)</span>
                            </li>
                            <li class="flex justify-between border-b border-slate-200 pb-2">
                                <span class="text-slate-500 text-sm">Pr√©cision</span>
                                <span class="font-bold text-corp-dark">10 cm (Classe Industrielle)</span>
                            </li>
                            <li class="flex justify-between pt-2">
                                <span class="text-slate-500 text-sm">Cibles</span>
                                <span class="font-bold text-corp-dark text-right">Industrie, Retail, Habitat</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 2: L'OFFRE COMMERCIALE (Le Pack) -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-8 relative">
            <div class="section-number">02</div>
            <div class="relative z-10">
                <h2 class="text-2xl font-bold text-corp-dark mb-2 pl-2">L'Offre "Cl√© en Main"</h2>
                <p class="text-slate-500 mb-8 pl-2">Ce que le client ach√®te concr√®tement.</p>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-center">
                    <div class="p-4 bg-slate-50 rounded border border-slate-100 hover:border-corp-blue transition">
                        <div class="text-3xl mb-2">üõ†Ô∏è</div>
                        <h4 class="font-bold text-slate-800 text-sm">1. Installation</h4>
                        <p class="text-xs text-slate-500 mt-1">Audit & pose des capteurs.</p>
                    </div>
                    <div class="p-4 bg-slate-50 rounded border border-slate-100 hover:border-corp-blue transition">
                        <div class="text-3xl mb-2">üì¶</div>
                        <h4 class="font-bold text-slate-800 text-sm">2. Mat√©riel</h4>
                        <p class="text-xs text-slate-500 mt-1">Serveur local & Badges.</p>
                    </div>
                    <div class="p-4 bg-slate-50 rounded border border-slate-100 hover:border-corp-blue transition">
                        <div class="text-3xl mb-2">üíª</div>
                        <h4 class="font-bold text-slate-800 text-sm">3. Logiciel</h4>
                        <p class="text-xs text-slate-500 mt-1">Plateforme Web & Modules.</p>
                    </div>
                    <div class="p-4 bg-slate-50 rounded border border-slate-100 hover:border-corp-blue transition">
                        <div class="text-3xl mb-2">üîß</div>
                        <h4 class="font-bold text-slate-800 text-sm">4. Service</h4>
                        <p class="text-xs text-slate-500 mt-1">Maintenance & Support.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 3: ARCHITECTURE TECHNIQUE (Animation) -->
        <section class="bg-white rounded-xl shadow-md border border-slate-200 p-8 relative">
            <div class="section-number">03</div>
            <div class="relative z-10">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-corp-dark mb-2 pl-2">Fonctionnement Technique</h2>
                        <p class="text-slate-500 max-w-lg pl-2">Infrastructure filaire robuste pour une fiabilit√© industrielle.</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-80">
                    <!-- Canvas Animation -->
                    <div class="border border-slate-300 rounded-lg overflow-hidden relative shadow-inner bg-slate-50">
                        <canvas id="simulationCanvas"></canvas>
                        <div class="absolute bottom-2 right-2 text-[10px] text-slate-400 bg-white/80 px-2 rounded">Simulation Flux</div>
                    </div>

                    <!-- L√©gende -->
                    <div class="flex flex-col justify-center space-y-6 pl-4">
                        <div class="flex items-start gap-4">
                            <div class="w-8 h-8 rounded bg-slate-800 text-white flex items-center justify-center font-bold text-sm flex-shrink-0">1</div>
                            <div>
                                <h4 class="font-bold text-slate-800 text-sm">Infrastructure (C√¢bl√©e)</h4>
                                <p class="text-xs text-slate-500">Ancres reli√©es en s√©rie par c√¢bles. Captent le signal.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-8 h-8 rounded bg-corp-blue text-white flex items-center justify-center font-bold text-sm flex-shrink-0">2</div>
                            <div>
                                <h4 class="font-bold text-slate-800 text-sm">La Centrale (Serveur)</h4>
                                <p class="text-xs text-slate-500">Traite les donn√©es et calcule la position math√©matique.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-8 h-8 rounded bg-corp-accent text-white flex items-center justify-center font-bold text-sm flex-shrink-0">3</div>
                            <div>
                                <h4 class="font-bold text-slate-800 text-sm">Les Modules (Software)</h4>
                                <p class="text-xs text-slate-500">Interface client (Alertes, Cartes, Analytics).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 4: POSITIONNEMENT (Le Gap) -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-8 relative">
            <div class="section-number">04</div>
            <div class="relative z-10">
                <h2 class="text-2xl font-bold text-corp-dark mb-6 pl-2">L'Opportunit√© de March√©</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center items-end">
                    <div class="p-6 bg-slate-50 rounded opacity-60">
                        <h4 class="font-bold text-slate-600 mb-2">Industrie Lourde</h4>
                        <div class="w-full bg-slate-200 h-2 rounded mb-1"><div class="h-full bg-red-500 w-full rounded"></div></div>
                        <p class="text-[10px] text-red-500 font-bold uppercase">Trop Cher</p>
                    </div>
                    <div class="p-8 bg-white rounded shadow-xl border-t-4 border-corp-blue transform scale-105 z-20">
                        <span class="bg-corp-blue text-white px-2 py-1 rounded text-[10px] font-bold uppercase mb-2 inline-block">Notre Projet</span>
                        <h4 class="font-bold text-corp-dark mb-4 text-lg">Le Point d'√âquilibre</h4>
                        <div class="w-full bg-slate-200 h-2 rounded mb-1"><div class="h-full bg-corp-success w-1/2 rounded"></div></div>
                        <p class="text-[10px] text-corp-success font-bold uppercase mb-4">Prix Accessible</p>
                        <div class="w-full bg-slate-200 h-2 rounded mb-1"><div class="h-full bg-corp-success w-full rounded"></div></div>
                        <p class="text-[10px] text-corp-success font-bold uppercase">Performance Pro</p>
                    </div>
                    <div class="p-6 bg-slate-50 rounded opacity-60">
                        <h4 class="font-bold text-slate-600 mb-2">Gadgets Grand Public</h4>
                        <div class="w-full bg-slate-200 h-2 rounded mb-1"><div class="h-full bg-orange-400 w-1/4 rounded"></div></div>
                        <p class="text-[10px] text-orange-400 font-bold uppercase">Pas assez pr√©cis</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 5: FOCUS RETAIL (Dashboard) -->
        <section class="bg-white rounded-xl shadow-md border border-slate-200 p-8 relative">
            <div class="section-number">05</div>
            <div class="relative z-10">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-corp-dark pl-2">Cas d'Usage : Commerce (Retail)</h2>
                    <span class="bg-corp-accent/10 text-corp-accent px-3 py-1 rounded-full text-xs font-bold">Analyse de Donn√©es</span>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Dashboard -->
                    <div class="bg-slate-50 p-4 rounded border border-slate-200">
                        <h4 class="text-xs font-bold text-slate-500 uppercase mb-2 text-center">Heatmap Magasin</h4>
                        <div class="store-grid mb-4">
                            <div class="heat-zone heat-red" style="width: 120px; height: 120px; top: 80%; left: 10%;"></div>
                            <div class="heat-zone heat-red" style="width: 80px; height: 80px; top: 30%; left: 30%;"></div>
                            <div class="heat-zone heat-yellow" style="width: 150px; height: 80px; top: 50%; left: 50%;"></div>
                            <div class="shelf-block" style="grid-column: 4/6; grid-row: 2/5;">PROMO</div>
                            <div class="shelf-block" style="grid-column: 8/10; grid-row: 2/5;">BIO</div>
                            <div class="shelf-block" style="grid-column: 4/6; grid-row: 6/8;">VRAC</div>
                            <div class="shelf-block" style="grid-column: 8/10; grid-row: 6/8;">VINS</div>
                            <div class="checkout-block" style="grid-column: 11/13; grid-row: 3/7;">CAISSE</div>
                            <div class="absolute bottom-2 left-2 text-[10px] font-bold text-slate-400">ENTR√âE</div>
                        </div>
                        <div class="flex justify-around text-center">
                            <div><span class="block text-xl font-bold text-slate-800">14 min</span><span class="text-[10px] text-slate-500">Temps Moyen</span></div>
                            <div><span class="block text-xl font-bold text-corp-success">18%</span><span class="text-[10px] text-slate-500">Conversion</span></div>
                        </div>
                    </div>
                    <!-- Argumentaire -->
                    <div class="flex flex-col justify-center">
                        <p class="text-slate-600 mb-6 font-medium">Nous transformons le magasin physique en site web analysable.</p>
                        <ul class="space-y-4">
                            <li class="flex items-start gap-3"><span class="text-xl">üó∫Ô∏è</span><div><strong class="text-sm text-slate-800">Zones Froides</strong><p class="text-xs text-slate-500">Identifier les rayons ignor√©s.</p></div></li>
                            <li class="flex items-start gap-3"><span class="text-xl">‚è±Ô∏è</span><div><strong class="text-sm text-slate-800">Attractivit√©</strong><p class="text-xs text-slate-500">Mesurer le temps d'arr√™t devant une vitrine.</p></div></li>
                            <li class="flex items-start gap-3"><span class="text-xl">üìà</span><div><strong class="text-sm text-slate-800">Staffing</strong><p class="text-xs text-slate-500">Alerte file d'attente en caisse.</p></div></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 6: L'HABITAT CONTEXTUEL -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-8 relative">
            <div class="section-number">06</div>
            <div class="relative z-10">
                <h2 class="text-2xl font-bold text-corp-dark mb-6 pl-2">L'Habitat Contextuel</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                    <!-- Case 1 -->
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200 hover:border-corp-blue transition group text-center">
                        <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">üëÜ</div>
                        <h4 class="font-bold text-slate-800 mb-2">Point & Control</h4>
                        <p class="text-sm text-slate-600">Pointez votre t√©l√©phone vers une lampe ou une enceinte pour la contr√¥ler instantan√©ment.</p>
                    </div>
                    <!-- Case 2 -->
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200 hover:border-corp-blue transition group text-center">
                        <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">üå°Ô∏è</div>
                        <h4 class="font-bold text-slate-800 mb-2">Chauffage Suiveur</h4>
                        <p class="text-sm text-slate-600">Le chauffage s'active uniquement l√† o√π vous √™tes. √âconomie d'√©nergie massive.</p>
                    </div>
                    <!-- Case 3 -->
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200 hover:border-corp-blue transition group text-center">
                        <div class="text-3xl mb-3 group-hover:scale-110 transition-transform">üõ°Ô∏è</div>
                        <h4 class="font-bold text-slate-800 mb-2">S√©curit√© Invisible</h4>
                        <p class="text-sm text-slate-600">La maison sait quand elle est vide (Alarme ON). D√©tection de chute senior sans cam√©ra.</p>
                    </div>
                </div>

                <!-- √âcosyst√®me -->
                <div class="text-center border-t border-slate-100 pt-6">
                    <p class="text-xs font-bold text-slate-400 uppercase mb-4">Compatible avec l'√©cosyst√®me 2026</p>
                    <div class="flex flex-wrap justify-center gap-4 opacity-80">
                        <span class="px-3 py-1 bg-white border border-slate-200 text-black rounded font-bold text-xs">Matter</span>
                        <span class="px-3 py-1 bg-blue-500 text-white rounded font-bold text-xs">Home Assistant</span>
                        <span class="px-3 py-1 bg-orange-500 text-white rounded font-bold text-xs">Zigbee</span>
                        <span class="px-3 py-1 bg-black text-white rounded font-bold text-xs">Apple Home</span>
                        <span class="px-3 py-1 bg-indigo-900 text-white rounded font-bold text-xs">Philips Hue</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 7: UNE TECHNOLOGIE STANDARDIS√âE -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-8 relative">
            <div class="section-number">07</div>
            <div class="relative z-10">
                <div class="flex justify-between items-end mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-corp-dark pl-2">Une Technologie Valid√©e</h2>
                        <p class="text-slate-500 mt-2 pl-2">En 2026, l'UWB est le standard mondial.</p>
                    </div>
                    <span class="bg-slate-800 text-white px-3 py-1 rounded text-xs font-bold">Standard FiRa‚Ñ¢</span>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 flex items-start gap-4">
                        <div class="text-3xl bg-white p-3 rounded-lg shadow-sm">üì±</div>
                        <div>
                            <h4 class="font-bold text-corp-dark mb-2">Mobile & Wearables</h4>
                            <ul class="space-y-1 text-sm text-slate-600">
                                <li>‚Ä¢ <strong>Apple :</strong> 100% des iPhone & Apple Watch.</li>
                                <li>‚Ä¢ <strong>Samsung :</strong> √âcosyst√®me Galaxy & SmartThings.</li>
                                <li>‚Ä¢ <strong>Google :</strong> Pixel Phones, Watch & Tablette.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 flex items-start gap-4">
                        <div class="text-3xl bg-white p-3 rounded-lg shadow-sm">üè†</div>
                        <div>
                            <h4 class="font-bold text-corp-dark mb-2">Smart Home & Acc√®s</h4>
                            <ul class="space-y-1 text-sm text-slate-600">
                                <li>‚Ä¢ <strong>Amazon/Google :</strong> D√©tection de pr√©sence (Echo/Nest).</li>
                                <li>‚Ä¢ <strong>Serrures :</strong> Yale, August (Ouverture sans contact).</li>
                                <li>‚Ä¢ <strong>HID Global :</strong> Badges d'entreprise d√©mat√©rialis√©s.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 flex items-start gap-4">
                        <div class="text-3xl bg-white p-3 rounded-lg shadow-sm">üöó</div>
                        <div>
                            <h4 class="font-bold text-corp-dark mb-2">Automobile (Digital Key)</h4>
                            <p class="text-xs text-slate-500 mb-2">Standard mondial d'ouverture sans cl√©.</p>
                            <div class="flex flex-wrap gap-2 text-xs font-bold text-slate-600">
                                <span class="bg-white px-2 py-1 rounded border">BMW</span>
                                <span class="bg-white px-2 py-1 rounded border">Tesla</span>
                                <span class="bg-white px-2 py-1 rounded border">VW</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 flex items-start gap-4">
                        <div class="text-3xl bg-white p-3 rounded-lg shadow-sm">üè≠</div>
                        <div>
                            <h4 class="font-bold text-corp-dark mb-2">Industrie & Retail</h4>
                            <ul class="space-y-1 text-sm text-slate-600">
                                <li>‚Ä¢ <strong>Siemens/Bosch :</strong> Robots autonomes.</li>
                                <li>‚Ä¢ <strong>Paiement :</strong> Validation sans contact (NFC Next-Gen).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PARTIE 8: MOD√àLE DE REVENUS -->
        <section class="bg-white rounded-xl shadow-md border-l-8 border-corp-success p-8 relative">
            <div class="section-number">08</div>
            <div class="relative z-10">
                <h2 class="text-2xl font-bold text-corp-dark mb-6 pl-2">Rentabilit√© & Business Model</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="chart-container">
                        <canvas id="revenueChart"></canvas>
                    </div>
                    <div class="space-y-4">
                        <div class="flex gap-3">
                            <div class="w-1 bg-corp-dark rounded"></div>
                            <div>
                                <h4 class="font-bold text-sm text-slate-800">1. Mat√©riel (35%)</h4>
                                <p class="text-xs text-slate-500">Vente "One-shot" √† l'installation. Tr√©sorerie imm√©diate.</p>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="w-1 bg-corp-accent rounded"></div>
                            <div>
                                <h4 class="font-bold text-sm text-corp-accent">2. Abonnements (50%) - Le C≈ìur</h4>
                                <p class="text-xs text-slate-500">Licences logicielles r√©currentes. Marge brute > 80%.</p>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <div class="w-1 bg-corp-blue rounded"></div>
                            <div>
                                <h4 class="font-bold text-sm text-corp-blue">3. Services (15%)</h4>
                                <p class="text-xs text-slate-500">Maintenance et exploitation de la donn√©e (Data).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- JS -->
    <script>
        // --- ANIMATION CANVAS ---
        const canvas = document.getElementById('simulationCanvas');
        const ctx = canvas.getContext('2d');
        
        const resizeCanvas = () => {
            const parent = canvas.parentNode;
            canvas.width = parent.clientWidth;
            canvas.height = parent.clientHeight;
        };
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const cablesColor = '#94a3b8';
        const serverColor = '#1e293b';
        const dataColor = '#10b981';
        let packets = [], tag = { x: 0.5, y: 0.5, angle: 0 };

        function drawSystem() {
            const w = canvas.width, h = canvas.height, pad = 30;
            const tl = {x: pad, y: pad}, tr = {x: w-pad, y: pad};
            const bl = {x: pad, y: h-pad}, br = {x: w-pad, y: h-pad};
            const server = {x: w/2, y: h-pad};

            ctx.clearRect(0,0,w,h);

            // Cables
            ctx.beginPath(); ctx.strokeStyle = cablesColor; ctx.lineWidth = 3;
            ctx.moveTo(tl.x, tl.y); ctx.lineTo(bl.x, bl.y);
            ctx.moveTo(tr.x, tr.y); ctx.lineTo(br.x, br.y);
            ctx.moveTo(bl.x, bl.y); ctx.lineTo(br.x, br.y);
            ctx.stroke();

            // Anchors & Server
            const drawAnchor = (p) => { ctx.fillStyle = serverColor; ctx.fillRect(p.x-8, p.y-8, 16, 16); };
            [tl, tr, bl, br].forEach(drawAnchor);
            ctx.fillRect(server.x-25, server.y-15, 50, 30); ctx.fillStyle='white'; ctx.font='10px Arial'; ctx.fillText("SRV", server.x-10, server.y+4);

            // Tag
            tag.angle += 0.005;
            tag.x = 0.5 + Math.cos(tag.angle)*0.25; tag.y = 0.4 + Math.sin(tag.angle*1.3)*0.2;
            const tx = tag.x*w, ty = tag.y*h;
            ctx.beginPath(); ctx.arc(tx, ty, 6, 0, Math.PI*2); ctx.fillStyle = '#ef4444'; ctx.fill(); ctx.strokeStyle='white'; ctx.lineWidth=2; ctx.stroke();

            // Signals & Packets
            ctx.setLineDash([4,4]); ctx.strokeStyle = '#cbd5e1'; ctx.lineWidth = 1;
            [tl, tr, bl, br].forEach((a, idx) => {
                ctx.beginPath(); ctx.moveTo(tx, ty); ctx.lineTo(a.x, a.y); ctx.stroke();
                if(Math.random() < 0.015) {
                    let path = [];
                    if(idx===0) path = [tl, bl, server];
                    if(idx===1) path = [tr, br, server];
                    if(idx===2) path = [bl, server];
                    if(idx===3) path = [br, server];
                    packets.push({path, seg:0, t:0});
                }
            });

            ctx.setLineDash([]); ctx.fillStyle = dataColor;
            for(let i=packets.length-1; i>=0; i--){
                let p = packets[i];
                p.t += 0.015;
                if(p.t >= 1) { p.t = 0; p.seg++; if(p.seg >= p.path.length-1) { packets.splice(i,1); continue; } }
                const p1 = p.path[p.seg], p2 = p.path[p.seg+1];
                const cx = p1.x + (p2.x - p1.x)*p.t, cy = p1.y + (p2.y - p1.y)*p.t;
                ctx.beginPath(); ctx.arc(cx, cy, 3, 0, Math.PI*2); ctx.fill();
            }
            requestAnimationFrame(drawSystem);
        }
        drawSystem();

        // --- CHART ---
        Chart.defaults.font.family = "'Outfit', sans-serif";
        new Chart(document.getElementById('revenueChart'), {
            type: 'doughnut',
            data: {
                labels: ['Mat√©riel', 'Abonnements', 'Services'],
                datasets: [{
                    data: [35, 50, 15],
                    backgroundColor: ['#1e293b', '#6366f1', '#2563eb'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: { legend: { display: false } }
            }
        });
    </script>
</body>
</html>
